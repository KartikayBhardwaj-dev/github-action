name: CI with Cache
on: [push]  # Triggers on any push

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Prime cache  # Keep exact name/id
      id: cache-prime
      uses: actions/cache@v4
      with:
        path: node_modules/.cache  # Or **/node_modules for full deps (bigger)
        key: cache-5bcf949
 
    
    - name: Cache hit/miss result  # Echoes result for verification
      run: echo "Cache was ${{ steps.cache-prime.outputs.cache-hit }} (hit if 'true')"
    
    - name: Setup Node
      uses: actions/setup-node@v4
      with:
        node-version: '20'
    
    - name: Install deps  # This benefits from cache
      run: npm ci  # Or 'npm install' / 'pip install -r requirements.txt'
